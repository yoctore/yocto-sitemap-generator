/* yocto-sitemap-generator - Module that generate sitemap.xml - V0.1.0 */
"use strict";function Generator(a){this.logger=a}var logger=require("yocto-logger"),_=require("lodash"),utils=require("yocto-utils"),Q=require("q"),SitemapGenerator=require("sitemap-generator");Generator.prototype.process=function(a){var b=Q.defer(),c=Date.now(),d=new SitemapGenerator(a.url);return d.on("done",function(a){return this.logger.info("[ Generator.process.done ] - sitemap was correctly generate in : "+(Date.now()-c)+" (ms)"),b.resolve(a)}.bind(this)),d.on("fetch",function(a,b){this.logger.debug("[ Generator.process.fecth ] - status : < "+a+" > for url : ",b)}.bind(this)),d.on("clienterror",function(a,c){var d={queueError:a,errorData:c};return this.logger("[ Generator.process.clienterror ] - an error occured, more details : "+utils.obj.inspect(d)),b.reject(d)}.bind(this)),d.start(),b.promise},module.exports=function(a){return(_.isUndefined(a)||_.isNull(a))&&(logger.warning("[ Generator.constructor ] - Invalid logger given. Use internal logger"),a=logger),new Generator(a)};